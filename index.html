<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Idle Miner</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            color: white;
        }

        .container {
            background-color: #2d2d2d;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }

        .stats {
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 5px;
            transition: transform 0.1s;
        }

        button:active {
            transform: scale(0.95);
        }

        .shop-item {
            background-color: #333;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }

        .disabled {
            background-color: #666 !important;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="stats">
            <div>üí∞ –ó–æ–ª–æ—Ç–æ: <span id="gold">0</span></div>
            <div>‚õèÔ∏è –ö–∏—Ä–∫–∏: <span id="miners">0</span></div>
            <div>‚ö° –ú–æ—â–Ω–æ—Å—Ç—å –∫–ª–∏–∫–∞: <span id="clickPower">1</span></div>
        </div>

        <button id="clickButton">–ö–ª–∏–∫–Ω–∏ —á—Ç–æ–±—ã –¥–æ–±—ã—Ç—å!</button>

        <div class="shop">
            <h3>–ú–∞–≥–∞–∑–∏–Ω</h3>
            <div class="shop-item">
                –ö–∏—Ä–∫–∞ (+1 –∑–æ–ª–æ—Ç–æ/—Å–µ–∫)<br>
                –¶–µ–Ω–∞: 10 –∑–æ–ª–æ—Ç–∞<br>
                <button onclick="buyMiner()" id="buyMiner">–ö—É–ø–∏—Ç—å –∫–∏—Ä–∫—É</button>
            </div>
            
            <div class="shop-item">
                –£–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∏–∫–∞ (+1 –∫ –∫–ª–∏–∫—É)<br>
                –¶–µ–Ω–∞: 50 –∑–æ–ª–æ—Ç–∞<br>
                <button onclick="buyClickPower()" id="buyClickPower">–£–ª—É—á—à–∏—Ç—å –∫–ª–∏–∫</button>
            </div>
        </div>
    </div>

    <script>
        let gameState = {
            gold: 0,
            miners: 0,
            clickPower: 1,
            lastUpdate: Date.now()
        };

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        function loadGame() {
            const saved = localStorage.getItem('idleSave');
            if(saved) {
                gameState = JSON.parse(saved);
                gameState.lastUpdate = Date.now();
                updateUI();
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã
        function saveGame() {
            gameState.lastUpdate = Date.now();
            localStorage.setItem('idleSave', JSON.stringify(gameState));
        }

        // –†–∞—Å—á–µ—Ç –∞–≤—Ç–æ-–¥–æ–±—ã—á–∏
        function calculateOfflineEarnings() {
            const now = Date.now();
            const diff = now - gameState.lastUpdate;
            const secondsPassed = Math.floor(diff / 1000);
            
            gameState.gold += gameState.miners * secondsPassed;
            gameState.lastUpdate = now;
            
            updateUI();
            saveGame();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('gold').textContent = Math.floor(gameState.gold);
            document.getElementById('miners').textContent = gameState.miners;
            document.getElementById('clickPower').textContent = gameState.clickPower;
            
            document.getElementById('buyMiner').disabled = gameState.gold < 10;
            document.getElementById('buyClickPower').disabled = gameState.gold < 50;
        }

        // –ü–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π
        function buyMiner() {
            if(gameState.gold >= 10) {
                gameState.gold -= 10;
                gameState.miners++;
                updateUI();
                saveGame();
            }
        }

        function buyClickPower() {
            if(gameState.gold >= 50) {
                gameState.gold -= 50;
                gameState.clickPower++;
                updateUI();
                saveGame();
            }
        }

        // –†—É—á–Ω–æ–π –∫–ª–∏–∫
        document.getElementById('clickButton').addEventListener('click', () => {
            gameState.gold += gameState.clickPower;
            updateUI();
            saveGame();
        });

        // –ê–≤—Ç–æ-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
        setInterval(() => {
            gameState.gold += gameState.miners;
            updateUI();
            saveGame();
        }, 1000);

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        loadGame();
        calculateOfflineEarnings();
    </script>
</body>
</html>