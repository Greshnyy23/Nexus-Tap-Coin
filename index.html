<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- ... (стили остаются без изменений) ... -->
</head>
<body>
    <!-- Навигация -->
    <div class="nav">
        <a href="#" onclick="showPage('main')">🏠</a>
        <a href="#" onclick="showPage('upgrades')">⚡</a>
        <a href="#" onclick="showPage('achievements')">🏆</a>
        <a href="#" onclick="showPage('referral')">🤝</a>
        <a href="#" onclick="showPage('stats')">📊</a>
        <a href="#" onclick="showPage('events')">🎉</a>
    </div>

    <!-- Главная страница -->
    <div id="main" class="page active">
        <div class="container">
            <!-- ... (прежнее содержимое) ... -->
        </div>
    </div>

    <!-- Страница улучшений -->
    <div id="upgrades" class="page">
        <div class="container">
            <h2>⚡ Усиления</h2>
            <div class="upgrades-grid" id="upgradesList"></div>
        </div>
    </div>

    <!-- Страница достижений -->
    <div id="achievements" class="page">
        <div class="container">
            <h2>🏆 Трофеи</h2>
            <div class="achievements-grid" id="achievementsList"></div>
        </div>
    </div>

    <!-- Реферальная система -->
    <div id="referral" class="page">
        <div class="container">
            <h2>🤝 Пригласи друзей</h2>
            <div class="referral-box">
                <input type="text" id="referralCode" placeholder="Введи код друга">
                <button id="applyReferral">✅ Применить</button>
                <div class="your-code">
                    <span>Твой код:</span>
                    <div class="code-box">📋 ${userReferralCode}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Статистика -->
    <div id="stats" class="page">
        <div class="container">
            <h2>📊 История успеха</h2>
            <div class="stats-grid">
                <div class="stat-item">🕒 Время игры: <span id="playTime">0ч</span></div>
                <div class="stat-item">🤑 Всего заработано: <span id="totalEarned">0</span></div>
                <div class="stat-item">🚀 Макс. кликов/сек: <span id="maxCPS">0</span></div>
            </div>
        </div>
    </div>

    <!-- События -->
    <div id="events" class="page">
        <div class="container">
            <h2>🎉 Активные бонусы</h2>
            <div class="events-list" id="activeEvents">
                <div class="event-item">🎁 Двойные монеты: <span class="timer">00:00</span></div>
            </div>
        </div>
    </div>

    <style>
        /* Новые стили для страниц */
        .upgrades-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }

        .achievement-card {
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid var(--gold);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .achievement-card.locked {
            filter: grayscale(1);
            opacity: 0.5;
        }

        .referral-box {
            background: rgba(188, 19, 254, 0.1);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid var(--accent-purple);
        }

        .code-box {
            background: rgba(255,255,255,0.1);
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: monospace;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }

        .stat-item {
            background: rgba(0, 243, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .event-item {
            background: rgba(75, 241, 69, 0.1);
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    </style>

    <script>
        // Обновленная функция отображения достижений
        function updateAchievementsUI() {
            const container = document.getElementById('achievementsList');
            container.innerHTML = achievements.map(ach => `
                <div class="achievement-card ${ach.completed ? '' : 'locked'}">
                    <div class="emoji">${ach.completed ? '🏆' : '🔒'}</div>
                    <h3>${ach.name}</h3>
                    <p>${ach.description}</p>
                    ${ach.completed ? 
                        `<div class="reward">🎁 +${ach.reward}</div>` : 
                        `<div class="progress">${getAchievementProgress(ach)}</div>`}
                </div>
            `).join('');
        }

        // Обновленная статистика
        function updateStats() {
            document.getElementById('playTime').textContent = 
                `${Math.floor(totalPlayTime / 60)}ч ${totalPlayTime % 60}м`;
            document.getElementById('totalEarned').textContent = totalEarned;
            document.getElementById('maxCPS').textContent = maxCPS;
        }

        // Обновленные улучшения
        function updateUpgradesUI() {
            const container = document.getElementById('upgradesList');
            container.innerHTML = upgrades.map((upg, i) => `
                <div class="upgrade">
                    <div class="upgrade-header">
                        <span class="emoji">${getUpgradeEmoji(upg.type)}</span>
                        <h3>${upg.name}</h3>
                    </div>
                    <div class="upgrade-info">
                        <p>💵 Цена: ${upg.price}</p>
                        <p>📦 Куплено: ${upg.owned}/${upg.max}</p>
                    </div>
                    <button onclick="buyUpgrade(${i})" 
                            ${score < upg.price || upg.owned >= upg.max ? 'disabled' : ''}>
                        🛒 Купить
                    </button>
                </div>
            `).join('');
        }

        function getUpgradeEmoji(type) {
            const emojis = {
                click: '💥',
                auto: '🤖',
                critical: '🎯',
                golden: '🌟',
                boost: '🚀',
                multiplier: '✨',
                chain: '⚡'
            };
            return emojis[type] || '✅';
        }
    </script>
</body>
</html>